This works, but has no button for  melee. You can possibly bind mwheelup to slot3;+attack and mwheeldown to -attack, if you like, but here's what I've got:

    // Binds:
    //
    // M1 = Primary Weapon Fire    
    // M2 = Melee    
    // M3 = Compression    
    // MWU/D = Sidearm    
        
    //Autoflare and switch    
    alias autosapOn "slot2; +attack; alias toggleAutosap autosapOff"    
    alias autosapOff "-attack; slot1; alias toggleAutosap autosapOn"    
    alias "toggleAutosap" "autosapOn"    
    alias "+mouse4Down" "toggleAutosap"    
    alias "-mouse4Down" "toggleAutosap"    
    //bind "mwheelup" "+mouse4Down"    
    //bind "mwheeldown" "+mouse4Down"    
    bind "mouse2" "+mouse4Down"    
        
    // Melee    
    alias "+melee" "slot3;+attack"    
    alias "-melee" "-attack"    
        
    // Primary    
    alias "+primary" "slot1;+attack"    
    alias "-primary" "-attack"    
        
    // Compression Blast(Pyro)    
    alias "+compression" "slot1;+attack2"    
    alias "-compression" "-attack2"    
        
    // Bind    
    bind "mouse1" "+primary"    
    //bind "mouse2" "+melee"    
    bind "mouse3" "+compression"    